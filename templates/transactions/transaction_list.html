<!DOCTYPE html>
<html>
<head>
    <title>Transactions</title>
</head>
<body>
    <h2>Your Transactions</h2>
    
    <!-- Currency conversion form -->
    <form method="get" action="">
        <label for="currency">Convert Amounts to:</label>
        <select name="currency" id="currency">
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <!-- add other currencies as needed -->
        </select>
        <button type="submit">Convert</button>
    </form>

    <!-- Show the selected currency -->
<p>Amounts are shown in {{ selected_currency }}</p>

    <a href="{% url 'add_transaction' %}">Add Transaction</a>
    <table border="1">
        <tr>
            <th>Title</th>
            <th>Amount</th>
            <th>Amount (Converted)</th>
            <th>Type</th>
            <th>Category</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
        {% for transaction in transactions %}
        <tr>
            <td>{{ transaction.title }}</td>
            <td>{{ transaction.amount }}</td>
            <td>{{ transaction.converted_amount|default:transaction.amount }}</td>
            <td>{{ transaction.transaction_type }}</td>
            <td>{{ transaction.category.name }}</td>
            <td>{{ transaction.date }}</td>
            <td>
                <a href="{% url 'edit_transaction' transaction.pk %}">Edit</a>
                <a href="{% url 'delete_transaction' transaction.pk %}">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6">No transactions yet.</td></tr>
        {% endfor %}
    </table>
</body>
</html>
